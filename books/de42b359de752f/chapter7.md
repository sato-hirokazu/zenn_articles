---
title: "第7章: AWSのIAM"
---

# IAM
IAM は、AWS 上のサービスやデータを守るための、とっても大事なサービスなんだ。🔒
例えば、学校の図書室を想像してみてね。
図書室には、たくさんの本やパソコンがあるよね。
でも、それらを使えるのは、学校の生徒や先生だけなんだ。
外部の人が勝手に入ってきて、本を持ち出したりしたら大変だよね。
IAM は、そんな図書室の入り口で、誰が入れるかをチェックする「管理人さん」みたいな役割なんだ。
IAM を使えば、AWS 上のサービスやデータに、誰がアクセスできるかを細かく決められるんだよ。
例えば、「開発者は EC2 を使えるけど、経理の人は使えない」とか、「この S3 のバケットは、この部署の人だけが見られる」とか、そういうルールを作ることができるんだ。
だから、IAM をしっかり設定しておくことで、AWS 上の大切なデータを守ることができるんだよ。

AWS リソースへのアクセスを、細かく制御しよう！

AWS IAM（Identity and Access Management）は、AWS リソースへのアクセスを管理するサービス です。IAM を使用することで、ユーザー、グループ、ロール に対して、アクセス権限を細かく設定 することができます。🚀

この章では、IAM の基本的な概念から、様々な IAM ポリシー、そして IAM を活用したセキュリティ強化の例まで、わかりやすく解説していきます。😊

9.1 IAM とは？
IAM は、AWS リソースへのアクセスを管理するサービス です。

IAM を使用することで、誰が、どのリソースに、どのようなアクセス権限を持っているか を明確に定義できます。

IAM のメリット：

セキュリティ強化: AWS リソースへの不正アクセスを防ぎ、セキュリティを強化できます。
アクセス制御: 特定のユーザーやグループに、特定のリソースへのアクセス権限を与えることができます。
管理の容易さ: ユーザー、グループ、ロールなどのアクセス権限を、簡単に管理できます。
コンプライアンス: セキュリティに関する規制に準拠することができます。
9.2 IAM の主要な要素
IAM は、以下の主要な要素から成り立っています。

ルートユーザー: AWS アカウントを作成した際に自動的に作成される、管理者権限を持つユーザーです。
IAM ユーザー: AWS リソースへのアクセス権限を持つユーザーです。
IAM ユーザーグループ: 複数の IAM ユーザーをグループ化するためのものです。
IAM ロール: 特定のタスクを実行するために、一時的なアクセス権限を付与するものです。
IAM ポリシー: AWS リソースへのアクセス権限を定義するものです。
9.3 ルートユーザーとは？
ルートユーザーは、AWS アカウントを作成した際に自動的に作成される、管理者権限を持つユーザー です。

ルートユーザーは、AWS アカウントのすべての権限 を持っています。

ルートユーザーの注意点:

セキュリティリスク: ルートユーザーは、AWS アカウントのすべての権限を持っているため、セキュリティリスクが高いです。
使用頻度: ルートユーザーは、日常的な操作には使用せず、必要な場合のみ使用するようにしましょう。
MFA 設定: ルートユーザーには、必ず MFA（多要素認証）を設定しましょう。
9.4 IAM ユーザーとは？
IAM ユーザーは、AWS リソースへのアクセス権限を持つユーザー です。

IAM ユーザーは、ルートユーザーとは異なるアクセス権限 を持つことができます。

IAM ユーザーの作成手順:

IAM コンソールにアクセスします。
「ユーザー」をクリックします。
「ユーザーの作成」をクリックします。
ユーザーの名前とアクセスキー ID を入力します。
アクセスキー ID とシークレットアクセスキーを生成します。
必要なアクセス権限を付与します。
ユーザーを作成します。
IAM ユーザーのメリット:

アクセス制御: 特定のユーザーに、特定のリソースへのアクセス権限を与えることができます。
セキュリティ強化: ルートユーザーよりも、セキュリティリスクが低くなります。
9.5 IAM ユーザーグループとは？
IAM ユーザーグループは、複数の IAM ユーザーをグループ化するためのもの です。

ユーザーグループを使用することで、同じアクセス権限を持つユーザーをまとめて管理 することができます。

IAM ユーザーグループの作成手順:

IAM コンソールにアクセスします。
「グループ」をクリックします。
「グループの作成」をクリックします。
グループの名前を入力します。
必要なアクセス権限を付与します。
グループを作成します。
IAM ユーザーグループのメリット:

管理の容易さ: 同じアクセス権限を持つユーザーをまとめて管理できます。
効率性: 同じアクセス権限を持つユーザーを、グループに追加することで、個別にアクセス権限を設定する必要がなくなります。
9.6 IAM ロールとは？
IAM ロールは、特定のタスクを実行するために、一時的なアクセス権限を付与する ものです。

IAM ロールは、ユーザーやサービス に割り当てることができます。

IAM ロールのメリット:

セキュリティ強化: 一時的なアクセス権限を付与することで、セキュリティを強化できます。
柔軟性: 特定のタスクを実行するために、必要なアクセス権限だけを付与できます。
アクセス制御: ロールに付与されたアクセス権限は、ロールが割り当てられたユーザーやサービスにのみ適用されます。
IAM ロールの例:

EC2 インスタンスへのアクセス権限: EC2 インスタンスに IAM ロールを割り当てることで、EC2 インスタンスが、必要な AWS サービスにアクセスできるようになります。
S3 バケットへのアクセス権限: S3 バケットに IAM ロールを割り当てることで、S3 バケットにアクセスできるようになります。
9.7 IAM ポリシーとは？
IAM ポリシーは、AWS リソースへのアクセス権限を定義する ものです。

IAM ポリシーは、JSON ステートメント記法 で記述されます。

IAM ポリシーの種類:

AWS 管理ポリシー: AWS によって提供される、一般的なアクセス権限を定義するポリシーです。
カスタマー管理ポリシー: ユーザーが作成する、特定のアクセス権限を定義するポリシーです。
9.8 JSON ステートメント記法とは？
JSON ステートメント記法は、IAM ポリシーを記述するための記法 です。

JSON ステートメント記法は、キーと値のペア を使用して、アクセス権限を定義します。

JSON ステートメント記法の例:

{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Principal": {
        "AWS": "arn:aws:iam::123456789012:user/admin"
      },
      "Action": [
        "ec2:DescribeInstances",
        "ec2:RunInstances"
      ],
      "Resource": "*"
    }
  ]
}

説明:

Version: ポリシーのバージョンを指定します。
Statement: アクセス権限を定義するステートメントです。
Effect: アクセス許可または拒否を指定します。
Principal: アクセス権限を持つユーザーまたはグループを指定します。
Action: 許可または拒否するアクションを指定します。
Resource: 許可または拒否するリソースを指定します。
9.9 Condition 条件とは？
Condition 条件は、IAM ポリシーのステートメントに、追加の条件 を設定するためのものです。

Condition 条件を使用することで、アクセス権限をさらに細かく制御 することができます。

Condition 条件の例:

IPアドレスによる制限: 特定の IP アドレスからのみアクセスを許可する。
時間による制限: 特定の時間帯のみアクセスを許可する。
キーによる制限: 特定のキーを使用したアクセスのみ許可する。
9.10 リソースペースポリシーとは？
リソースペースポリシーは、AWS リソースに、アクセス権限を付与する ポリシーです。

リソースペースポリシーは、S3 バケット、DynamoDB テーブル、Lambda 関数 などの AWS リソースに設定できます。

リソースペースポリシーのメリット:

セキュリティ強化: 特定のリソースへのアクセス権限を制御できます。
管理の容易さ: リソースにアクセス権限を直接設定できます。
9.11 アクセスキー ID とシークレットアクセスキーとは？
アクセスキー ID とシークレットアクセスキーは、IAM ユーザーが AWS リソースにアクセスするための資格情報 です。

アクセスキー ID とシークレットアクセスキーは、ユーザーが AWS リソースにアクセスする際に、認証のために使用されます。

アクセスキー ID とシークレットアクセスキーの注意点:

機密情報: アクセスキー ID とシークレットアクセスキーは、機密情報です。
安全な管理: アクセスキー ID とシークレットアクセスキーは、安全な場所に保管し、第三者に漏洩させないようにしましょう。
ローテーション: アクセスキー ID とシークレットアクセスキーは、定期的にローテーションしましょう。
9.12 まとめ
本章では、AWS IAM を使用して、AWS リソースへのアクセスを管理する方法について学びました。

IAM は、様々な機能を提供しており、AWS リソースへのアクセスを細かく制御することができます。 これらの知識を基に、安全でセキュアな AWS 環境を構築しましょう！

今後の学習:

AWS 上で実際に IAM を設定してみましょう。
IAM の様々な機能を理解しましょう。
IAM のセキュリティ設定について学びましょう。
IAM 関連の認定資格を取得しましょう。